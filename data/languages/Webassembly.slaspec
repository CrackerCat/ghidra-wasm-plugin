# sleigh specification file for Skeleton Processor
#   >> see docs/languages/sleigh.htm or sleigh.pdf for Sleigh syntax
# Other language modules (see Ghidra/Processors) may provide better examples
# when creating a new language module.

define endian=little;
define alignment=1;

define space ram     type=ram_space      size=4  default;

define space mem0    type=ram_space      size=4;
define space table   type=ram_space		 size=8;
define space global  type=ram_space		 size=4;
define space register type=register_space size=8;

define register offset=0 size=4 [ _  PC SP LR BRTableInput];

# Define context bits (if defined, size must be multiple of 4-bytes)
define register offset=0x1000 size=16   contextreg;

define register offset=0x1000000000 size=8 [
      l0   l1   l2   l3   l4   l5   l6   l7
      l8   l9  l10  l11  l12  l13  l14  l15
     l16  l17  l18  l19  l20  l21  l22  l23
     l24  l25  l26  l27  l28  l29  l30  l31
     l32  l33  l34  l35  l36  l37  l38  l39
     l40  l41  l42  l43  l44  l45  l46  l47
     l48  l49  l50  l51  l52  l53  l54  l55
     l56  l57  l58  l59  l60  l61  l62  l63
     l64  l65  l66  l67  l68  l69  l70  l71
     l72  l73  l74  l75  l76  l77  l78  l79
     l80  l81  l82  l83  l84  l85  l86  l87
     l88  l89  l90  l91  l92  l93  l94  l95
     l96  l97  l98  l99 l100 l101 l102 l103
    l104 l105 l106 l107 l108 l109 l110 l111
    l112 l113 l114 l115 l116 l117 l118 l119
    l120 l121 l122 l123 l124 l125 l126 l127
    l128 l129 l130 l131 l132 l133 l134 l135
    l136 l137 l138 l139 l140 l141 l142 l143
    l144 l145 l146 l147 l148 l149 l150 l151
    l152 l153 l154 l155 l156 l157 l158 l159
    l160 l161 l162 l163 l164 l165 l166 l167
    l168 l169 l170 l171 l172 l173 l174 l175
    l176 l177 l178 l179 l180 l181 l182 l183
    l184 l185 l186 l187 l188 l189 l190 l191
    l192 l193 l194 l195 l196 l197 l198 l199
    l200 l201 l202 l203 l204 l205 l206 l207
    l208 l209 l210 l211 l212 l213 l214 l215
    l216 l217 l218 l219 l220 l221 l222 l223
    l224 l225 l226 l227 l228 l229 l230 l231
    l232 l233 l234 l235 l236 l237 l238 l239
    l240 l241 l242 l243 l244 l245 l246 l247
    l248 l249 l250 l251 l252 l253 l254 l255
];

# Artificial registers used to hold function inputs
define register offset=0x2000000000 size=8 [
      i0   i1   i2   i3   i4   i5   i6   i7
      i8   i9  i10  i11  i12  i13  i14  i15
     i16  i17  i18  i19  i20  i21  i22  i23
     i24  i25  i26  i27  i28  i29  i30  i31
     i32  i33  i34  i35  i36  i37  i38  i39
     i40  i41  i42  i43  i44  i45  i46  i47
     i48  i49  i50  i51  i52  i53  i54  i55
     i56  i57  i58  i59  i60  i61  i62  i63
     i64  i65  i66  i67  i68  i69  i70  i71
     i72  i73  i74  i75  i76  i77  i78  i79
     i80  i81  i82  i83  i84  i85  i86  i87
     i88  i89  i90  i91  i92  i93  i94  i95
     i96  i97  i98  i99 i100 i101 i102 i103
    i104 i105 i106 i107 i108 i109 i110 i111
    i112 i113 i114 i115 i116 i117 i118 i119
    i120 i121 i122 i123 i124 i125 i126 i127
    i128 i129 i130 i131 i132 i133 i134 i135
    i136 i137 i138 i139 i140 i141 i142 i143
    i144 i145 i146 i147 i148 i149 i150 i151
    i152 i153 i154 i155 i156 i157 i158 i159
    i160 i161 i162 i163 i164 i165 i166 i167
    i168 i169 i170 i171 i172 i173 i174 i175
    i176 i177 i178 i179 i180 i181 i182 i183
    i184 i185 i186 i187 i188 i189 i190 i191
    i192 i193 i194 i195 i196 i197 i198 i199
    i200 i201 i202 i203 i204 i205 i206 i207
    i208 i209 i210 i211 i212 i213 i214 i215
    i216 i217 i218 i219 i220 i221 i222 i223
    i224 i225 i226 i227 i228 i229 i230 i231
    i232 i233 i234 i235 i236 i237 i238 i239
    i240 i241 i242 i243 i244 i245 i246 i247
    i248 i249 i250 i251 i252 i253 i254 i255
];

# Artificial registers used to hold function outputs
define register offset=0x3000000000 size=8 [
      o0   o1   o2   o3   o4   o5   o6   o7
      o8   o9  o10  o11  o12  o13  o14  o15
     o16  o17  o18  o19  o20  o21  o22  o23
     o24  o25  o26  o27  o28  o29  o30  o31
     o32  o33  o34  o35  o36  o37  o38  o39
     o40  o41  o42  o43  o44  o45  o46  o47
     o48  o49  o50  o51  o52  o53  o54  o55
     o56  o57  o58  o59  o60  o61  o62  o63
     o64  o65  o66  o67  o68  o69  o70  o71
     o72  o73  o74  o75  o76  o77  o78  o79
     o80  o81  o82  o83  o84  o85  o86  o87
     o88  o89  o90  o91  o92  o93  o94  o95
     o96  o97  o98  o99 o100 o101 o102 o103
    o104 o105 o106 o107 o108 o109 o110 o111
    o112 o113 o114 o115 o116 o117 o118 o119
    o120 o121 o122 o123 o124 o125 o126 o127
    o128 o129 o130 o131 o132 o133 o134 o135
    o136 o137 o138 o139 o140 o141 o142 o143
    o144 o145 o146 o147 o148 o149 o150 o151
    o152 o153 o154 o155 o156 o157 o158 o159
    o160 o161 o162 o163 o164 o165 o166 o167
    o168 o169 o170 o171 o172 o173 o174 o175
    o176 o177 o178 o179 o180 o181 o182 o183
    o184 o185 o186 o187 o188 o189 o190 o191
    o192 o193 o194 o195 o196 o197 o198 o199
    o200 o201 o202 o203 o204 o205 o206 o207
    o208 o209 o210 o211 o212 o213 o214 o215
    o216 o217 o218 o219 o220 o221 o222 o223
    o224 o225 o226 o227 o228 o229 o230 o231
    o232 o233 o234 o235 o236 o237 o238 o239
    o240 o241 o242 o243 o244 o245 o246 o247
    o248 o249 o250 o251 o252 o253 o254 o255
];

# Artificial temporary registers used to hold block arguments during branches
define register offset=0x4000000000 size=8 [
      t0   t1   t2   t3   t4   t5   t6   t7
      t8   t9  t10  t11  t12  t13  t14  t15
     t16  t17  t18  t19  t20  t21  t22  t23
     t24  t25  t26  t27  t28  t29  t30  t31
     t32  t33  t34  t35  t36  t37  t38  t39
     t40  t41  t42  t43  t44  t45  t46  t47
     t48  t49  t50  t51  t52  t53  t54  t55
     t56  t57  t58  t59  t60  t61  t62  t63
     t64  t65  t66  t67  t68  t69  t70  t71
     t72  t73  t74  t75  t76  t77  t78  t79
     t80  t81  t82  t83  t84  t85  t86  t87
     t88  t89  t90  t91  t92  t93  t94  t95
     t96  t97  t98  t99 t100 t101 t102 t103
    t104 t105 t106 t107 t108 t109 t110 t111
    t112 t113 t114 t115 t116 t117 t118 t119
    t120 t121 t122 t123 t124 t125 t126 t127
    t128 t129 t130 t131 t132 t133 t134 t135
    t136 t137 t138 t139 t140 t141 t142 t143
    t144 t145 t146 t147 t148 t149 t150 t151
    t152 t153 t154 t155 t156 t157 t158 t159
    t160 t161 t162 t163 t164 t165 t166 t167
    t168 t169 t170 t171 t172 t173 t174 t175
    t176 t177 t178 t179 t180 t181 t182 t183
    t184 t185 t186 t187 t188 t189 t190 t191
    t192 t193 t194 t195 t196 t197 t198 t199
    t200 t201 t202 t203 t204 t205 t206 t207
    t208 t209 t210 t211 t212 t213 t214 t215
    t216 t217 t218 t219 t220 t221 t222 t223
    t224 t225 t226 t227 t228 t229 t230 t231
    t232 t233 t234 t235 t236 t237 t238 t239
    t240 t241 t242 t243 t244 t245 t246 t247
    t248 t249 t250 t251 t252 t253 t254 t255
];

define global offset=0 size=8 [
      g0   g1   g2   g3   g4   g5   g6   g7
      g8   g9  g10  g11  g12  g13  g14  g15
     g16  g17  g18  g19  g20  g21  g22  g23
     g24  g25  g26  g27  g28  g29  g30  g31
     g32  g33  g34  g35  g36  g37  g38  g39
     g40  g41  g42  g43  g44  g45  g46  g47
     g48  g49  g50  g51  g52  g53  g54  g55
     g56  g57  g58  g59  g60  g61  g62  g63
     g64  g65  g66  g67  g68  g69  g70  g71
     g72  g73  g74  g75  g76  g77  g78  g79
     g80  g81  g82  g83  g84  g85  g86  g87
     g88  g89  g90  g91  g92  g93  g94  g95
     g96  g97  g98  g99 g100 g101 g102 g103
    g104 g105 g106 g107 g108 g109 g110 g111
    g112 g113 g114 g115 g116 g117 g118 g119
    g120 g121 g122 g123 g124 g125 g126 g127
    g128 g129 g130 g131 g132 g133 g134 g135
    g136 g137 g138 g139 g140 g141 g142 g143
    g144 g145 g146 g147 g148 g149 g150 g151
    g152 g153 g154 g155 g156 g157 g158 g159
    g160 g161 g162 g163 g164 g165 g166 g167
    g168 g169 g170 g171 g172 g173 g174 g175
    g176 g177 g178 g179 g180 g181 g182 g183
    g184 g185 g186 g187 g188 g189 g190 g191
    g192 g193 g194 g195 g196 g197 g198 g199
    g200 g201 g202 g203 g204 g205 g206 g207
    g208 g209 g210 g211 g212 g213 g214 g215
    g216 g217 g218 g219 g220 g221 g222 g223
    g224 g225 g226 g227 g228 g229 g230 g231
    g232 g233 g234 g235 g236 g237 g238 g239
    g240 g241 g242 g243 g244 g245 g246 g247
    g248 g249 g250 g251 g252 g253 g254 g255
];

# All context registers are set by the pre-analyzer
define context contextreg
	ctx_indent = (0, 15) noflow
	ctx_case_index = (16, 31) noflow
	ctx_is_op64 = (32, 32) noflow
	ctx_is_case = (33, 33) noflow
	ctx_is_default = (34, 34) noflow
	ctx_br_target = (64, 95) noflow
	ctx_sp_adjust = (96, 127) noflow
;

# Include contents of Webassembly.sinc file
@include "Webassembly.sinc"
