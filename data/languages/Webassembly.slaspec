# sleigh specification file for Skeleton Processor
#   >> see docs/languages/sleigh.htm or sleigh.pdf for Sleigh syntax
# Other language modules (see Ghidra/Processors) may provide better examples
# when creating a new language module.

define endian=little;
define alignment=1;

define space ram     type=ram_space      size=4  default;

define space mem0    type=ram_space      size=4;
define space table   type=ram_space		 size=8;
define space global  type=ram_space		 size=4;
define space register type=register_space size=8;

define register offset=0 size=4 [ _  PC SP LR BRTableInput];

# Define context bits (if defined, size must be multiple of 4-bytes)
define register offset=0x1000 size=16   contextreg;

define register offset=0x1000000000 size=8 [
      l0   l1   l2   l3   l4   l5   l6   l7
      l8   l9  l10  l11  l12  l13  l14  l15
     l16  l17  l18  l19  l20  l21  l22  l23
     l24  l25  l26  l27  l28  l29  l30  l31
     l32  l33  l34  l35  l36  l37  l38  l39
     l40  l41  l42  l43  l44  l45  l46  l47
     l48  l49  l50  l51  l52  l53  l54  l55
     l56  l57  l58  l59  l60  l61  l62  l63
     l64  l65  l66  l67  l68  l69  l70  l71
     l72  l73  l74  l75  l76  l77  l78  l79
     l80  l81  l82  l83  l84  l85  l86  l87
     l88  l89  l90  l91  l92  l93  l94  l95
     l96  l97  l98  l99 l100 l101 l102 l103
    l104 l105 l106 l107 l108 l109 l110 l111
    l112 l113 l114 l115 l116 l117 l118 l119
    l120 l121 l122 l123 l124 l125 l126 l127
    l128 l129 l130 l131 l132 l133 l134 l135
    l136 l137 l138 l139 l140 l141 l142 l143
    l144 l145 l146 l147 l148 l149 l150 l151
    l152 l153 l154 l155 l156 l157 l158 l159
    l160 l161 l162 l163 l164 l165 l166 l167
    l168 l169 l170 l171 l172 l173 l174 l175
    l176 l177 l178 l179 l180 l181 l182 l183
    l184 l185 l186 l187 l188 l189 l190 l191
    l192 l193 l194 l195 l196 l197 l198 l199
    l200 l201 l202 l203 l204 l205 l206 l207
    l208 l209 l210 l211 l212 l213 l214 l215
    l216 l217 l218 l219 l220 l221 l222 l223
    l224 l225 l226 l227 l228 l229 l230 l231
    l232 l233 l234 l235 l236 l237 l238 l239
    l240 l241 l242 l243 l244 l245 l246 l247
    l248 l249 l250 l251 l252 l253 l254 l255
];

define register offset=0x2000000000 size=8 [
      i0   i1   i2   i3   i4   i5   i6   i7
      i8   i9  i10  i11  i12  i13  i14  i15
     i16  i17  i18  i19  i20  i21  i22  i23
     i24  i25  i26  i27  i28  i29  i30  i31
     i32  i33  i34  i35  i36  i37  i38  i39
     i40  i41  i42  i43  i44  i45  i46  i47
     i48  i49  i50  i51  i52  i53  i54  i55
     i56  i57  i58  i59  i60  i61  i62  i63
     i64  i65  i66  i67  i68  i69  i70  i71
     i72  i73  i74  i75  i76  i77  i78  i79
     i80  i81  i82  i83  i84  i85  i86  i87
     i88  i89  i90  i91  i92  i93  i94  i95
     i96  i97  i98  i99 i100 i101 i102 i103
    i104 i105 i106 i107 i108 i109 i110 i111
    i112 i113 i114 i115 i116 i117 i118 i119
    i120 i121 i122 i123 i124 i125 i126 i127
    i128 i129 i130 i131 i132 i133 i134 i135
    i136 i137 i138 i139 i140 i141 i142 i143
    i144 i145 i146 i147 i148 i149 i150 i151
    i152 i153 i154 i155 i156 i157 i158 i159
    i160 i161 i162 i163 i164 i165 i166 i167
    i168 i169 i170 i171 i172 i173 i174 i175
    i176 i177 i178 i179 i180 i181 i182 i183
    i184 i185 i186 i187 i188 i189 i190 i191
    i192 i193 i194 i195 i196 i197 i198 i199
    i200 i201 i202 i203 i204 i205 i206 i207
    i208 i209 i210 i211 i212 i213 i214 i215
    i216 i217 i218 i219 i220 i221 i222 i223
    i224 i225 i226 i227 i228 i229 i230 i231
    i232 i233 i234 i235 i236 i237 i238 i239
    i240 i241 i242 i243 i244 i245 i246 i247
    i248 i249 i250 i251 i252 i253 i254 i255
];

define register offset=0x3000000000 size=8 [
      o0   o1   o2   o3   o4   o5   o6   o7
      o8   o9  o10  o11  o12  o13  o14  o15
     o16  o17  o18  o19  o20  o21  o22  o23
     o24  o25  o26  o27  o28  o29  o30  o31
     o32  o33  o34  o35  o36  o37  o38  o39
     o40  o41  o42  o43  o44  o45  o46  o47
     o48  o49  o50  o51  o52  o53  o54  o55
     o56  o57  o58  o59  o60  o61  o62  o63
     o64  o65  o66  o67  o68  o69  o70  o71
     o72  o73  o74  o75  o76  o77  o78  o79
     o80  o81  o82  o83  o84  o85  o86  o87
     o88  o89  o90  o91  o92  o93  o94  o95
     o96  o97  o98  o99 o100 o101 o102 o103
    o104 o105 o106 o107 o108 o109 o110 o111
    o112 o113 o114 o115 o116 o117 o118 o119
    o120 o121 o122 o123 o124 o125 o126 o127
    o128 o129 o130 o131 o132 o133 o134 o135
    o136 o137 o138 o139 o140 o141 o142 o143
    o144 o145 o146 o147 o148 o149 o150 o151
    o152 o153 o154 o155 o156 o157 o158 o159
    o160 o161 o162 o163 o164 o165 o166 o167
    o168 o169 o170 o171 o172 o173 o174 o175
    o176 o177 o178 o179 o180 o181 o182 o183
    o184 o185 o186 o187 o188 o189 o190 o191
    o192 o193 o194 o195 o196 o197 o198 o199
    o200 o201 o202 o203 o204 o205 o206 o207
    o208 o209 o210 o211 o212 o213 o214 o215
    o216 o217 o218 o219 o220 o221 o222 o223
    o224 o225 o226 o227 o228 o229 o230 o231
    o232 o233 o234 o235 o236 o237 o238 o239
    o240 o241 o242 o243 o244 o245 o246 o247
    o248 o249 o250 o251 o252 o253 o254 o255
];

# Temporaries used during branches
define register offset=0x4000000000 size=8 [ t0 ];

# All context registers are set by the pre-analyzer
define context contextreg
	ctx_indent = (0, 15) noflow
	ctx_case_index = (16, 31) noflow
	ctx_is_op64 = (32, 32) noflow
	ctx_is_case = (33, 33) noflow
	ctx_is_default = (34, 34) noflow
	ctx_br_target = (64, 95) noflow
	ctx_sp_adjust = (96, 127) noflow
;

# Include contents of Webassembly.sinc file
@include "Webassembly.sinc"
